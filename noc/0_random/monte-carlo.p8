pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _init()
	px={}
	for i=1,128 do
		px[i]=0
	end
	invert=true
end

function _update60()
	local r=acc_rej(invert)
	local idx=flr(r*127)+1
	px[idx]+=1
end

function _draw()
	cls(1)
	for i,v in ipairs(px) do
		rectfill(i,128-v,i,128,7)
	end
end

-- chance of acceptance
-- tied to value
function acc_rej(invert)
	while true do
		local r1=rnd(1)
		local r2=rnd(1)
		if invert then
			if (r2>r1) return r1
		else
			if (r2<r1) return r1
		end
	end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
